# Система управления заказами в ресторане
###### Беренштейн Аркадий Игоревич БПИ225
###### Работа выполнена на оценку 8

## Функционал (условие домашки)
* Реализована система аутентификации для двух типов пользователей: посетителей и администраторов.
* Администратор может добавлять и удалять блюда из меню, а также устанавливать их количество, цену и сложность выполнения (время, которое оно будет готовиться).
* Посетители могут составлять заказ, выбирая блюда из актуального меню.
* Заказы обрабатываются в отдельных потоках, симулируя процесс приготовления.
* Посетители могут добавлять блюда в существующий заказ, пока он находится в обработке.
* Посетители имеют возможность отменять заказ до того, как он будет готов.
* Система отображает актуальный статус заказа.
* По завершению выполнения заказа посетитель имеет возможность его оплатить.
* Программа сохраняет состояния программы: меню, сумму выручки, пользователей в системе.

## Как пользоваться программой
1. Откройте данный проект в IDE, поддерживающий компилятор языка Kotlin.
2. В директории `homework\src\main\kotlin` найдите драйвер-файл `Main.kt`.
3. Откройте его и запустите. После сборки программы следуйте инструкциям консольного интерфейса.
4. При неверно введённых данных возможен повторный ввод,
программа сама будет подсказывать, 
в каком формате данные должны быть введены, без принудительного завершения программы.

## Примечания
1. Чтобы войти в систему в роли администратора, при регистрации логин должен заканчиваться на суффикс `admin`. 
Иначе, регистрируйтесь под любым другим логином.
При входе функционал будет определяться самостоятельно, в зависимости от логина пользователя.
2. Так как в условии не уточнялся формат сохранения данных, 
сохранение состояния программы происходит без использования сериализации.
Данные сохраняются в текстовом логе в формате `.txt` по адресу `\homework\src\main\kotlin\log`
3. У заказа есть несколько состояний:
   * `Inactive("не активен")` -- состояние не добавленного пользователем заказа
   * `Forming("оформляется")` -- состояние добавленного, но ещё не подтверждённого заказа
   * `Preparing("готовится")` -- состояние подтвержденного готовящегося заказа
   * `Done("готов")` -- состояние готового заказа, ожидающего оплаты
   * `Paid("оплачен")` -- состояние оплаченного заказа
   * `Canceled("отменён")` -- состояние отменённого заказа
4. Заказ отменяется после приготовления очередного блюда из заказа, 
так как проверка на отмену происходит перед приготовлением следующего блюда. 
5. Многопоточность в этом приложении реализована с помощью фабричного метода `thread`. 
Для выполнения каждого отдельного заказа используется отдельный поток, позволяющий пользователю не ждать
выполнения заказа для дальнейшего пользования программой.

## Реализованные паттерны
### 1. Одиночка
Паттерн одиночки использован для реализации объекта ресторана и базы данных пользователей.
Эти оба объекта считаются единственными в своём роде и предоставляют глобальную точку доступа.
### 2. Фасад
В качестве самого фасада используются наследники класса `Account`: `Customer` и `Administrator`. 
Внутри себя они содержат только те функции, которые нужны пользователю,
а функции, работающие с его объектами, находятся в самих объектах.
### 3. Команда
Этот паттерн реализуют наследники интерфейса `UI`: `ChoiceUI` и `InputUI`.
Каждый из этих классов в качестве параметров берёт список с "кнопками" интерфейса 
и их отображает пользователю. Каждая из кнопок имеет отдельную команду, которую она будет выполнять.
(Вместо стандартного метода `execute()`, в программе для понятности используется метод `show()`)

###### По возникающим вопросам писать в телеграм (@DarviN350)